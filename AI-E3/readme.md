### 枚举法：计算出所有可能的情况的概率，构建联合概率矩阵。

### 输入数据的处理

创建cpt类（class），类中包括变量名，变量的父亲节点，以及所有的条件概率。

在输入贝叶斯网络图时，我们节点连线存储起来，最后将每个节点的父亲节点的变量编号append进cpt.parent列表中，输入cpt表时，我们将每一行作为一个整体append进probabilities列表中，即probilities列表中每个元素第一个为变量为true的条件概率，第二个为变量为false的条件概率，且二者条件相同，这样方便后续计算概率。

对于查询，我们定义编号为0， 1的变量出现在条件里的变量，对应false和true，编号为2的变量为待求的变量，编号为3的变量为未出现的变量，即需要消去的变量。

### 计算全部联合概率

定义0为false，1为true，使用状态压缩的方法来存储每个状态，例如5个变量，5（10） = 00101（2）表示第1个变量状态为false，第2个变量状态为false，第3个变量状态为true，第4个变量状态为false，第5个变量状态为true，这样就可以用一个十进制数来表示一个状态了。我们只需枚举出每个状态（2^n种状态），将其转换为二进制01序列，然后根据贝叶斯网络图的连接关系，就可以求出所有联合概率了。为防止下溢和过分的精度损失，使用log取对数相加，最后再转换为概率。

### 计算条件概率

根据编号（0，1，2，3）得到所有可能的01序列，具体做法为编号为0或1的变量直接将对应位置赋值为0或1，编号为2的变量先给对应位置赋值为1（下一次再给对应位置赋值为0再算一次），然后编号为3的变量需要消去，我们需要找出其他所有情况下的联合概率然后相加得到条件概率，使用dfs找出所有可能01序列后，在存储了所有联合概率的矩阵中查询概率即可

Dfs中给所有未确定的位置（Event[now] >= 3的位置）分别赋值0或1，得到所有可能的0，1序列。

最后将p = true和p = false下的概率归一化即可。
